<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.spring.main.service.dao.ReplyDAO">

    <!-- 해당 게시글 댓글 리스트 -->
    <select id="readReply" resultType="com.spring.main.vo.ReplyVO">
    	   	SELECT *
   		 	FROM LBOARD_REPLY
   		 	WHERE bbsid = #{bbsid} 
   	</select>
		  
	
	<!-- 댓글 작성 -->
     <insert id="writeReply">
		INSERT INTO LBOARD_REPLY(
			  bbsid
			, rpyid
			, rpycontent
			, rpywriter
			, rpydate
		)
		VALUES(    
			  #{bbsid}
			, MP_REPLY_SEQ.NEXTVAL
			, #{rpycontent}
			, #{rpywriter}
			, #{rpydate}
			)
	</insert>
	
	<!-- 댓글수 카운트 -->
	 <select id="sumReply" parameterType="int" resultType="com.spring.main.vo.ReplyVO">
    	   	SELECT COUNT(*)
   		 	FROM LBOARD_REPLY
   		 	WHERE bbsid = #{bbsid} 
   	 </select>
   
	
</mapper>
