<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 맵필될 DAO 인터페이스의 Full name을 줌. (mapper interface) -->
<mapper namespace="com.spring.main.service.dao.HotListDAO">	
	
	<!-- 전체 호텔 리스트 -->
	<!-- <select id="getHotAllList" resultType="com.spring.main.vo.HotListVO">
		SELECT htsoo, htname, httime, htarea, htaddress, httel, htxdo, htydo
		FROM LHOTEL
		CAST(hsoo AS UNSIGNED);
	</select> -->
	
	<select id="getHotAllList" resultType="com.spring.main.vo.HotListVO">
		SELECT *
		FROM LHOTEL
		ORDER BY htsoo
	</select>
	
	<!-- 호텔 상세 정보 -->
	<select id="getHotListinfo" parameterType="string" resultType="com.spring.main.vo.HotListVO">
    	SELECT htsoo, htname, httime, htarea, htaddress, httel,htaddress2,htxdo,htydo
    	
    	FROM (
        	SELECT htsoo, htname, httime, htarea, htaddress, httel, htaddress2, htxdo, htydo, ROWNUM AS rnum
        	FROM LHOTEL
        	WHERE htname=#{htname}
    	)
    	WHERE rnum = 1
	</select>
	
	<select id="getHotAreaList" resultType="com.spring.main.vo.HotListVO">
       SELECT *
       FROM LHOTEL
       WHERE htname like '%' || #{area} || '%'
   </select>
</mapper>